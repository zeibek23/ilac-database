<!DOCTYPE html>
<html>
<head>
    <title>Add Drug-Disease Interaction</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <h2>Add Drug-Disease Interaction</h2>
        <form method="POST">
            <div class="mb-3">
                <label for="drug_id" class="form-label">Drug</label>
                <select class="form-control" id="drug_id" name="drug_id" required>
                    <option value="">Select a drug</option>
                    {% for drug in drugs %}
                    <option value="{{ drug.id }}">{{ drug.name_en }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="indication_id" class="form-label">Disease</label>
                <select class="form-control" id="indication_id" name="indication_id" required>
                    <option value="">Select a disease</option>
                    {% for indication in indications %}
                    <option value="{{ indication.id }}">{{ indication.name_en }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="interaction_type" class="form-label">Interaction Type</label>
                <select class="form-control" id="interaction_type" name="interaction_type" required>
                    <option value="">Select type</option>
                    <option value="Contraindication">Contraindication</option>
                    <option value="Caution">Caution</option>
                    <option value="Consideration">Consideration</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="severity" class="form-label">Severity</label>
                <select class="form-control" id="severity" name="severity" required>
                    <option value="Mild">Mild</option>
                    <option value="Moderate" selected>Moderate</option>
                    <option value="Severe">Severe</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" rows="3"></textarea>
            </div>
            <div class="mb-3">
                <label for="recommendation" class="form-label">Recommendation</label>
                <textarea class="form-control" id="recommendation" name="recommendation" rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Add Interaction</button>
            <a href="{{ url_for('list_drug_disease_interactions') }}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</body>
</html>